<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>JavaScript Video Controls</title>
	<link rel="stylesheet" type="text/css" href="css/video.css">
	<script src="video.js"></script>
</head>
<body> 
<main>
	<h1>JavaScript Video Controls</h1>
	<div class = "options">
		<button onclick="play()" id = "play">Play Video</button>
		<button onclick="pause()" id = "pause">Pause Video</button>
		<button onclick="slow()" id = "slower">Slow Down</button>
		<button onclick ="fast()" id = "faster">Speed Up</button>
		<button onclick ="skip()" id = "skip">Skip Ahead</button>
	</div>

	<figure>

		<video class = "video" 
			autoplay="false" 
			width="640" 
			height="360" 
			id="player1" 
			preload="none"
			src="assets/marchingband.mov" />
			  
		    <track src="captions_en.vtt" kind="captions" srclang="en" label="english_captions">	
		  		Your browser does not support HTML5 video.
		</video>
		<figcaption>[The sound of the Michigan Marching Band]</figcaption>
		</figure> 
	<button onclick = "mute()" id="mute">Mute</button><br>

	<label for="slider">Volume</label>: 0 <input type="range" id="slider" min="0" max="100" value="100" step="10"> 100%<br>
	<div>Volume is: <span id = "volume"> </span><br><br></div>

	<button onclick = "oldSchool()" id = "vintage">Old School</button>
	<button onclick = "original()" id = "orig">Original</button>

	<p>Video courtesy of Allison Sweet.</p>

</main>
<script> 
	var vid = document.getElementById("player1");
	var vidVolume = document.querySelector("#volume");
	var muted = document.querySelector("#mute");
	var volSlider = document.querySelector("#slider");

	function play(){
		console.log("Play Video");
		vid.play();
		vidVolume.innerHTML = vid.volume * 100 + "%"
	}
	function pause() { 
		console.log("Pause Video");
    	vid.pause();
	}
	function slow(){
		console.log("Slow Down");
		vid.playbackRate = 0.95 * vid.playbackRate;
		console.log(vid.playbackRate);
	}
	function fast(){
		console.log("Speed Up");
		vid.playbackRate = 1.05 * vid.playbackRate;
		console.log(vid.playbackRate);
	}
	function skip(){
		console.log("Skip Ahead");
		if (vid.currentTime < vid.duration - 15){
			vid.currentTime += 15;
		}
		else{
			vid.play();
		}
	}
	function mute(){
		if (vid.muted == false){
			vid.muted = true;
			muted.innerHTML = "Unmute";
		}
		else{
			vid.muted = false;
			muted.innerHTML = "Mute";
		}
	}

	function oldSchool(){
		vid.classList.add("oldSchool");
	}
	function original(){
		vid.classList.remove("oldSchool");
	}
	volSlider.addEventListener('change', function(){
		vid.volume = volSlider.value / 100;
		vidVolume = vid.volume * 100 + "%";
	});
</script>
</body> 
</html>
